<div class="app-container">
    <app-sidebar></app-sidebar>

    <div class="main-content">
        <app-header></app-header>

        <div class="content-wrapper">
            <div class="create-auction-container">
                <h1>Kreiranje nove aukcije</h1>

                <form [formGroup]="auctionForm" (ngSubmit)="onSubmit()" class="auction-form">
                    <div class="form-group">
                        <label for="name">Naziv proizvoda</label>
                        <input type="text" id="name" formControlName="name" class="form-control">
                        <div *ngIf="f['name'].touched && f['name'].invalid" class="error-message">
                            <span *ngIf="f['name'].errors?.['required']">Naziv je obavezan.</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="description">Opis</label>
                        <textarea id="description" formControlName="description" rows="4"
                            class="form-control"></textarea>
                        <div *ngIf="f['description'].touched && f['description'].invalid" class="error-message">
                            <span *ngIf="f['description'].errors?.['required']">Opis je obavezan.</span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group half-width">
                            <label for="startTime">Početak aukcije</label>
                            <input type="datetime-local" id="startTime" formControlName="startTime"
                                class="form-control">
                            <div *ngIf="f['startTime'].touched && f['startTime'].invalid" class="error-message">
                                <span *ngIf="f['startTime'].errors?.['required']">Početak aukcije je obavezan.</span>
                            </div>
                        </div>

                        <div class="form-group half-width">
                            <label for="endTime">Kraj aukcije</label>
                            <input type="datetime-local" id="endTime" formControlName="endTime" class="form-control">
                            <div *ngIf="f['endTime'].touched && f['endTime'].invalid" class="error-message">
                                <span *ngIf="f['endTime'].errors?.['required']">Kraj aukcije je obavezan.</span>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="startingPrice">Početna cijena (€)</label>
                        <input type="number" id="startingPrice" formControlName="startingPrice" class="form-control"
                            min="0.01" step="0.01">
                        <div *ngIf="f['startingPrice'].touched && f['startingPrice'].invalid" class="error-message">
                            <span *ngIf="f['startingPrice'].errors?.['required']">Početna cijena je obavezna.</span>
                            <span *ngIf="f['startingPrice'].errors?.['min']">Cijena mora biti veća od 0.</span>
                        </div>
                    </div>

                    <div class="form-actions">
                        <button type="submit" [disabled]="auctionForm.invalid || isSubmitting" class="btn-submit">
                            {{ isSubmitting ? 'Spremanje...' : 'Kreiraj aukciju' }}
                        </button>
                        <button type="button" (click)="cancel()" class="btn-cancel">Odustani</button>
                    </div>
                </form>
            </div>
        </div>

        <app-footer></app-footer>
    </div>
</div>